# 7주차 중간 보고서: 코드 디버깅 및 통합 테스트

## 1. 개요
이번 주에는 영상에서 추출된 결과들을 후속 모델 학습의 입력 데이터로 활용할 수 있도록 통합, 정제 및 적절한 포맷(JSON, NPY, CSV 등)으로 저장하는 작업을 진행하였습니다.

---

## 2. 진행 내용
### 2.1 전처리 + Feature 추출 결과 통합 및 저장
- 각 단계별로 추출한 Feature 데이터를 통합하여, 모델 학습에 쉽게 사용할 수 있도록 정제하는 작업을 진행하였습니다.
  - 전처리된 프레임 데이터를 기반으로 Face, Pose, Velocity Feature들을 하나의 시퀀스 데이터로 결합.
  - 결합된 데이터는 JSON 형식(혹은 NPY, CSV 등)으로 저장하여, 추후 LSTM 또는 멀티모달 네트워크 학습에 활용할 수 있도록 하였습니다.
  
- **예시 저장 파일 구성**
  - face_features.json: 각 프레임별 얼굴 feature (예: eye_aspect_ratio 등)을 저장.
  - pose_features.npy: 각 프레임별 추출된 34차원 pose feature 시퀀스를 NumPy 배열 형식으로 저장.
  - velocity_features.csv: 프레임 간 이동 속도 및 변화량 데이터를 CSV 형식으로 저장.

### 2.2 전처리 + Feature 추출 결과 통합 및 저장
- 추출된 Face, Pose, Velocity Feature는 각 프레임별로 개별 파일(JSON, NPY, CSV)로 저장되었으며, 이를 결합하여 시퀀스 데이터셋을 구축하였습니다.
- 구축된 데이터셋은 향후 LSTM 기반 주취자 vs 비주취자 분류 모델 및 멀티모달 네트워크의 학습 입력으로 활용될 예정입니다.

---

## 3. 향후 계획(중간 보고서 제출 이전)

- **멀티모달 모델 학습 및 성능 평가**
  - 6주차에서 구축한 Face, Pose, Velocity Feature들을 결합하여 통합 입력 시퀀스를 생성하고, 이를 기반으로 LSTM 또는 멀티 입력 MLP/Attention 기반 네트워크를 설계합니다.
  - 기존 Pose 단일 기반 모델 대비, 멀티모달 모델의 분류 정확도, 정밀도, 재현율 등 주요 성능 지표를 비교 분석할 계획입니다.
  
- **차량 접근 및 문 열림 이벤트 로직 구현**
  - 영상 내 객체 검출 및 멀티모달 모델의 결과를 활용하여, 차량 접근 및 문 열림 이벤트를 자동으로 감지하는 로직을 추가 개발합니다.
  - 실시간 반응 속도와 이벤트 감지의 정확도를 평가하고, 필요 시 알고리즘을 최적화할 예정입니다.
  
- **데이터 보강 및 파라미터 튜닝**
  - 야간, 다양한 조명 조건 등 실제 현장 환경을 반영한 추가 데이터를 확보하여, 기존 데이터셋의 다양성과 대표성을 강화합니다.
  - 모델 하이퍼파라미터 최적화 및 멀티모달 데이터 Fusion 전략에 대한 심도 있는 분석을 진행하여 최적의 성능을 도출할 계획입니다.
  
- **Edge Device 적용 계획 수립**
  - NVIDIA Jetson Nano 등 Edge Device를 활용한 실시간 추론 환경 구축을 위한 설계 및 프로토타입 시험을 진행할 예정입니다.
  - ONNX/TensorRT 기반 최적화 작업을 통해, 실제 현장에서의 추론 성능(FPS, latency 등)을 확인하고, 추가 개선 방안을 마련할 계획입니다.
  
- **실제 현장 적용을 위한 최종 통합 및 데모**
  - 위의 작업들을 종합적으로 통합하여, 실제 환경(예: 도서산간 지역, 주차장 등)에서 실시간 주취자 및 차량 접근 감지 시스템의 데모를 준비할 예정입니다.
  - 이를 통해 시스템의 실용성과 확장 가능성을 최종적으로 입증할 계획입니다.

---

## 4. 결론

이번 7주차 작업에서는 영상 전처리 및 각 Feature 추출 단계( Face, Pose, Velocity )에 대해 향후 모델 학습에 용이한 형태로 저장하는 작업을 성공적으로 수행하였습니다.  
향후 23일부터 30일까지 진행될 작업은 추출된 다중 Feature를 기반으로 멀티모달 주취자 분류 모델을 구축하고, 차량 접근 및 문 열림 이벤트 감지 로직을 추가하여 시스템 전체의 실시간 응용 가능성을 검증하는 것입니다.

이러한 진행 계획을 통해, 본 프로젝트가 단순한 데이터 전처리 단계를 넘어 실질적인 현장 적용까지 가능하도록 발전시킬 수 있을 것으로 기대합니다.
